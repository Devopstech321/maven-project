pipeline
{
    agent any
    stages
    {
        stage ('scm checkout')
        {
            steps {git branch: 'master', url: 'https://github.com/Devopstech321/maven-project.git'}
        }
        stage ('create artifact and soar analysis')
        { steps { withMaven(jdk: 'JAVA-HOME', maven: 'Maven_Home') 
           {
             withSonarQubeEnv(credentialsId: 'sonar', installationName:'sonar') 
           { 
              sh 'mvn clean package sonar:sonar'
           }
           }
                }       
        }
    }
}